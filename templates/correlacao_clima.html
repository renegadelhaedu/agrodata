<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>CorrelaÃ§Ã£o entre Sensores - AgroData</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/correlacao_clima.css') }}">
</head>

<body>


    <header>
        <h1>ğŸ“Š AnÃ¡lise de CorrelaÃ§Ã£o - AgroData</h1>
        <p>Selecione dois sensores e um intervalo de datas para gerar a correlaÃ§Ã£o.</p>
    </header>

    <main>

        <a href="/" class="btn-voltar">â¬…ï¸ Voltar ao Menu Principal</a>

        <form method="POST" class="form-corre">
            <div class="campo">
                <label for="sensor1">Sensor 1:</label>
                <select name="sensor1" id="sensor1" required>
                    <option value="">-- Escolha --</option>
                    <option value="temperatura_ar">ğŸŒ¡ï¸ Temperatura do Ar</option>
                    <option value="umidade_ar">ğŸ’§ Umidade do Ar</option>
                    <option value="umidade_solo">ğŸŒ± Umidade do Solo</option>
                    <option value="rad_solar">â˜€ï¸ RadiaÃ§Ã£o Solar</option>
                </select>
            </div>

            <div class="campo">
                <label for="sensor2">Sensor 2:</label>
                <select name="sensor2" id="sensor2" required>
                    <option value="">-- Escolha --</option>
                    <option value="temperatura_ar">ğŸŒ¡ï¸ Temperatura do Ar</option>
                    <option value="umidade_ar">ğŸ’§ Umidade do Ar</option>
                    <option value="umidade_solo">ğŸŒ± Umidade do Solo</option>
                    <option value="rad_solar">â˜€ï¸ RadiaÃ§Ã£o Solar</option>
                </select>
            </div>

            <div class="campo">
                <label for="data_inicio">Data InÃ­cio:</label>
                <input type="date" name="data_inicio" id="data_inicio" required>
            </div>

            <div class="campo">
                <label for="data_fim">Data Fim:</label>
                <input type="date" name="data_fim" id="data_fim" required>
            </div>

            <button type="submit" class="btn-gerar">Gerar CorrelaÃ§Ã£o</button>
        </form>

        {% if aviso %}
            <div class="resultado aviso">
                <p>{{ aviso }}</p>
            </div>
        {% endif %}

        {% if correlacao %}
            <section class="resultado">
                <h3>CorrelaÃ§Ã£o: {{ correlacao }}</h3>
                <div class="grafico">
                    {{ graphJSON | safe }}
                </div>
            </section>
        {% endif %}
    </main>
</body>
</html>